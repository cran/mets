<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Klaus Holst &amp; Thomas Scheike" />

<meta name="date" content="2025-08-30" />

<title>Mediation Analysis for survival data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Mediation Analysis for survival data</h1>
<h4 class="author">Klaus Holst &amp; Thomas Scheike</h4>
<h4 class="date">2025-08-30</h4>



<div id="overview" class="section level1">
<h1>Overview</h1>
<p>Fit</p>
<ul>
<li>binomial-regression IPCW, binreg</li>
<li>additive Lin-Ying model, aalenMets</li>
<li>cox model phreg</li>
<li>standard logistic regression via binreg</li>
</ul>
<p>in the context of mediation analysis using mediation weights as in
the medFlex package. We thus fit natural effects models, that for
example on the binary scale might state that <span class="math display">\[\begin{align*}
\mbox{logit}(P(Y(x,M(x^*))=1| Z)  = \beta_0+ \beta_1 x + \beta_2 x^* +
\beta_3^T Z,
\end{align*}\]</span> in this case the the Natural Direct Effect (NDE)
for fixed covariates <span class="math inline">\(Z\)</span> is <span class="math display">\[\begin{align*}
\mbox{OR}_{1,0|Z}^{\mbox{NDE}} =
\frac{\mbox{odds}(Y(1,M(x))|Z)}{\mbox{odds}(Y(0,M(x))|Z)}  =
\exp(\beta_1),
\end{align*}\]</span> and the Natural Inderect Effect (NIE) for fixed
covariates <span class="math inline">\(Z\)</span> is <span class="math display">\[\begin{align*}
\mbox{OR}_{1,0|Z}^{\mbox{NIE}} =
\frac{\mbox{odds}(Y(x,M(1))|Z)}{\mbox{odds}(Y(x,M(0))|Z)} =
\exp(\beta_2).
\end{align*}\]</span> See the medFlex package for additional discussion
of the parametrization.</p>
<p>The mediator can be</p>
<ul>
<li>binomial using glm-binomial.</li>
<li>multnomial via the mlogit function of mets</li>
</ul>
<p>Both mediator and exposure must be coded as factors.</p>
<p>In the below example these are</p>
<ul>
<li>mediator: gp.f</li>
<li>exposure : dnr.f</li>
</ul>
<p>and the outcome model is concerned with the risk/hazard of
cause=2.</p>
<p>The key is that the standard errors are computed using the i.i.d
influence functions and a Taylor expansion to deal with the uncertainty
from the mediation weights.</p>
</div>
<div id="simulated-data" class="section level1">
<h1>Simulated Data</h1>
<p>First we simulate some data that mimics that of Kumar et al 2012.
This is data from multiple myeloma patients treated with allogeneic stem
cell transplantation from the Center for International Blood and Marrow
Transplant Research (CIBMTR) Kumar et al (2012), “Trends in allogeneic
stem cell transplantation for multiple myeloma: a CIBMTR analysis”. The
data used in this paper consist of patients transplanted from 1995 to
2005, and we compared the outcomes between transplant periods: 2001-2005
(N=488) versus 1995-2000 (N=375). The two competing events were relapse
(cause 2) and treatment-related mortality (TRM, cause 1)) defined as
death without relapse. considered the following risk covariates:
transplant time period (gp (main interest of the study): 1 for
transplanted in 2001-2005 versus 0 for transplanted in 1995-2000), donor
type (dnr: 1 for Unrelated or other related donor (N=280) versus 0 for
HLA-identical sibling (N=584)), prior autologous transplant (preauto: 1
for Auto+Allo transplant (N=399) versus 0 for allogeneic transplant
alone (N=465)) and time to transplant (ttt24: 1 for more than 24 months
(N=289) versus 0 for less than or equal to 24 months (N=575))).</p>
<p>The interest is then on the effect of the period (gp) and the
possible mediation via the amount of unrealted or related donors (dnr).
A somewhat artificial example ! All adjusted for other important
counfounders.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="fu">library</span>(mets)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a> runb <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a> <span class="fu">options</span>(<span class="at">warn=</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a> <span class="fu">set.seed</span>(<span class="dv">1000</span>) <span class="co"># to control output in simulatins for p-values below.</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">200</span>; k.boot <span class="ot">&lt;-</span> <span class="dv">10</span>; </span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">kumarsimRCT</span>(n,<span class="at">rho1=</span><span class="fl">0.5</span>,<span class="at">rho2=</span><span class="fl">0.5</span>,<span class="at">rct=</span><span class="dv">2</span>,<span class="at">censpar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>          <span class="at">beta =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.67</span>, <span class="fl">0.59</span>, <span class="fl">0.55</span>, <span class="fl">0.25</span>, <span class="fl">0.98</span>, <span class="fl">0.18</span>, <span class="fl">0.45</span>, <span class="fl">0.31</span>),</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>    <span class="at">treatmodel =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.18</span>, <span class="fl">0.56</span>, <span class="fl">0.56</span>, <span class="fl">0.54</span>),<span class="at">restrict=</span><span class="dv">1</span>)</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="fu">dfactor</span>(dat) <span class="ot">&lt;-</span> dnr.f<span class="sc">~</span>dnr</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="fu">dfactor</span>(dat) <span class="ot">&lt;-</span> gp.f<span class="sc">~</span>gp</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">drename</span>(dat) <span class="ot">&lt;-</span> ttt24<span class="sc">~</span><span class="st">&quot;ttt24*&quot;</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>dat<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>n</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>dat<span class="sc">$</span>ftime <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
</div>
<div id="mediation-weights" class="section level1">
<h1>Mediation Weights</h1>
<p>Then compute the mediation weights based on a mediation model</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>weightmodel <span class="ot">&lt;-</span> fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(gp.f<span class="sc">~</span>dnr.f<span class="sc">+</span>preauto<span class="sc">+</span>ttt24,<span class="at">data=</span>dat,<span class="at">family=</span>binomial)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>wdata <span class="ot">&lt;-</span> <span class="fu">medweight</span>(fit,<span class="at">data=</span>dat)</span></code></pre></div>
</div>
<div id="binomial-regression" class="section level1">
<h1>Binomial Regression</h1>
<p>A simple multvariate regression of the probaibility of relapse at 50
months with both exposure and mediator (given the other covariates)</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>aaMss2 <span class="ot">&lt;-</span> <span class="fu">binreg</span>(<span class="fu">Event</span>(time,status)<span class="sc">~</span>gp<span class="sc">+</span>dnr<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>dat,<span class="at">time=</span><span class="dv">50</span>,<span class="at">cause=</span><span class="dv">2</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">summary</span>(aaMss2)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt;  200     97</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt;             Estimate  Std.Err     2.5%    97.5% P-value</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt; (Intercept) -1.01508  0.31869 -1.63971 -0.39046  0.0014</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; gp           1.08533  0.34216  0.41471  1.75594  0.0015</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; dnr          0.51969  0.35757 -0.18113  1.22051  0.1461</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; preauto      0.39417  0.35936 -0.31017  1.09851  0.2727</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt; ttt24        0.50469  0.38681 -0.25344  1.26283  0.1920</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt;             Estimate    2.5%  97.5%</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt; (Intercept)  0.36237 0.19404 0.6767</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="co">#&gt; gp           2.96041 1.51394 5.7889</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt; dnr          1.68151 0.83433 3.3889</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt; preauto      1.48316 0.73332 2.9997</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt; ttt24        1.65648 0.77612 3.5354</span></span></code></pre></div>
</div>
<div id="binomial-regression-ipcw-mediation-analysis" class="section level1">
<h1>Binomial regression IPCW Mediation Analysis</h1>
<p>We first look at the probability of relapse at 50 months</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="do">### binomial regression ###########################################################</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">binreg</span>(<span class="fu">Event</span>(time,status)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>        <span class="at">time=</span><span class="dv">50</span>,<span class="at">weights=</span>wdata<span class="sc">$</span>weights,<span class="at">cause=</span><span class="dv">2</span>)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt;  400    194</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt;              Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; (Intercept) -0.535534  0.256218 -1.037712 -0.033356  0.0366</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt; dnr.f01      0.375817  0.348618 -0.307462  1.059095  0.2810</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt; dnr.f11      0.275383  0.071199  0.135836  0.414931  0.0001</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt; preauto      0.588221  0.350437 -0.098624  1.275066  0.0932</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt; ttt24        0.266179  0.363603 -0.446469  0.978827  0.4641</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt;             Estimate    2.5%  97.5%</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; (Intercept)  0.58536 0.35426 0.9672</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; dnr.f01      1.45618 0.73531 2.8838</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; dnr.f11      1.31704 1.14549 1.5143</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; preauto      1.80078 0.90608 3.5789</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt; ttt24        1.30497 0.63988 2.6613</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co">#&gt;  400    194</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a><span class="co">#&gt;              Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="co">#&gt; (Intercept) -0.535534  0.254832 -1.034995 -0.036073  0.0356</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="co">#&gt; dnr.f01      0.375817  0.317732 -0.246927  0.998560  0.2369</span></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a><span class="co">#&gt; dnr.f11      0.275383  0.117175  0.045726  0.505041  0.0188</span></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a><span class="co">#&gt; preauto      0.588221  0.346523 -0.090951  1.267394  0.0896</span></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a><span class="co">#&gt; ttt24        0.266179  0.366361 -0.451875  0.984233  0.4675</span></span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a><span class="co">#&gt;             Estimate    2.5%  97.5%</span></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="co">#&gt; (Intercept)  0.58536 0.35523 0.9646</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a><span class="co">#&gt; dnr.f01      1.45618 0.78120 2.7144</span></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a><span class="co">#&gt; dnr.f11      1.31704 1.04679 1.6571</span></span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a><span class="co">#&gt; preauto      1.80078 0.91306 3.5516</span></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a><span class="co">#&gt; ttt24        1.30497 0.63643 2.6758</span></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span></code></pre></div>
<p>So the NDE is <span class="math inline">\(1.40 (0.72,2.76)\)</span>
and the NIE is <span class="math inline">\(1.32
(1.05,1.66)\)</span>.</p>
</div>
<div id="mediation-analysis" class="section level1">
<h1>Mediation Analysis</h1>
<p>We here also illustrate how to use the other models mentioned
above.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="do">### lin-ying model ################################################################</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">aalenMets</span>(<span class="fu">Surv</span>(time<span class="sc">/</span><span class="dv">100</span>,status<span class="sc">==</span><span class="dv">2</span>)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>           <span class="at">weights=</span>wdata<span class="sc">$</span>weights)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt;          Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.169592  0.739323 -0.279454  2.618637  0.1137</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; dnr.f11  0.206757  0.131289 -0.050565  0.464078  0.1153</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; preauto  0.617537  0.504302 -0.370877  1.605950  0.2207</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; ttt24    0.457736  0.517822 -0.557175  1.472648  0.3767</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="do">### cox model ###############################################################################</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">phreg</span>(<span class="fu">Surv</span>(time,status<span class="sc">==</span><span class="dv">2</span>)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>           <span class="at">weights=</span>wdata<span class="sc">$</span>weights)</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="co">#&gt;         Estimate     S.E.  dU^-1/2 P-value</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="co">#&gt; dnr.f01 0.414565 0.213724 0.157231  0.0524</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="co">#&gt; dnr.f11 0.100656 0.039308 0.144971  0.0104</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="co">#&gt; preauto 0.284460 0.232166 0.162375  0.2205</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="co">#&gt; ttt24   0.185561 0.226044 0.160886  0.4117</span></span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.51371 0.99568 2.3013</span></span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.10590 1.02389 1.1945</span></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="co">#&gt; preauto  1.32904 0.84318 2.0949</span></span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a><span class="co">#&gt; ttt24    1.20389 0.77300 1.8750</span></span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a><span class="co">#&gt;            Estimate     Std.Err        2.5%       97.5% P-value</span></span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a><span class="co">#&gt; dnr.f01  0.41456472  0.20869639  0.00552731  0.82360212  0.0470</span></span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a><span class="co">#&gt; dnr.f11  0.10065575  0.05121458  0.00027702  0.20103448  0.0494</span></span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a><span class="co">#&gt; preauto  0.28445952  0.23037280 -0.16706288  0.73598192  0.2169</span></span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a><span class="co">#&gt; ttt24    0.18556110  0.22549763 -0.25640614  0.62752835  0.4106</span></span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.51371 1.00554 2.2787</span></span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.10590 1.00028 1.2227</span></span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a><span class="co">#&gt; preauto  1.32904 0.84615 2.0875</span></span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a><span class="co">#&gt; ttt24    1.20389 0.77383 1.8730</span></span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a></span>
<span id="cb5-55"><a href="#cb5-55" tabindex="-1"></a><span class="do">### Fine-Gray #############################################################3</span></span>
<span id="cb5-56"><a href="#cb5-56" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">cifreg</span>(<span class="fu">Event</span>(time,status)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb5-57"><a href="#cb5-57" tabindex="-1"></a>        <span class="at">weights=</span>wdata<span class="sc">$</span>weights,<span class="at">propodds=</span><span class="cn">NULL</span>,<span class="at">cause=</span><span class="dv">2</span>)</span>
<span id="cb5-58"><a href="#cb5-58" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb5-59"><a href="#cb5-59" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-60"><a href="#cb5-60" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-61"><a href="#cb5-61" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-62"><a href="#cb5-62" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-63"><a href="#cb5-63" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-64"><a href="#cb5-64" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-65"><a href="#cb5-65" tabindex="-1"></a><span class="co">#&gt;         Estimate    S.E. dU^-1/2 P-value</span></span>
<span id="cb5-66"><a href="#cb5-66" tabindex="-1"></a><span class="co">#&gt; dnr.f01  0.18943 0.21986 0.15855  0.3889</span></span>
<span id="cb5-67"><a href="#cb5-67" tabindex="-1"></a><span class="co">#&gt; dnr.f11  0.18730 0.04083 0.14503  0.0000</span></span>
<span id="cb5-68"><a href="#cb5-68" tabindex="-1"></a><span class="co">#&gt; preauto  0.41452 0.22783 0.16098  0.0688</span></span>
<span id="cb5-69"><a href="#cb5-69" tabindex="-1"></a><span class="co">#&gt; ttt24    0.17304 0.22892 0.16308  0.4497</span></span>
<span id="cb5-70"><a href="#cb5-70" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-71"><a href="#cb5-71" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-72"><a href="#cb5-72" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-73"><a href="#cb5-73" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.20856 0.78545 1.8596</span></span>
<span id="cb5-74"><a href="#cb5-74" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.20599 1.11324 1.3065</span></span>
<span id="cb5-75"><a href="#cb5-75" tabindex="-1"></a><span class="co">#&gt; preauto  1.51364 0.96849 2.3656</span></span>
<span id="cb5-76"><a href="#cb5-76" tabindex="-1"></a><span class="co">#&gt; ttt24    1.18892 0.75910 1.8621</span></span>
<span id="cb5-77"><a href="#cb5-77" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb5-78"><a href="#cb5-78" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb5-79"><a href="#cb5-79" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-80"><a href="#cb5-80" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-81"><a href="#cb5-81" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-82"><a href="#cb5-82" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-83"><a href="#cb5-83" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-84"><a href="#cb5-84" tabindex="-1"></a><span class="co">#&gt;          Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb5-85"><a href="#cb5-85" tabindex="-1"></a><span class="co">#&gt; dnr.f01  0.189426  0.233939 -0.269087  0.647939  0.4181</span></span>
<span id="cb5-86"><a href="#cb5-86" tabindex="-1"></a><span class="co">#&gt; dnr.f11  0.187298  0.047733  0.093744  0.280853  0.0001</span></span>
<span id="cb5-87"><a href="#cb5-87" tabindex="-1"></a><span class="co">#&gt; preauto  0.414517  0.230676 -0.037600  0.866634  0.0723</span></span>
<span id="cb5-88"><a href="#cb5-88" tabindex="-1"></a><span class="co">#&gt; ttt24    0.173042  0.230810 -0.279338  0.625422  0.4534</span></span>
<span id="cb5-89"><a href="#cb5-89" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-90"><a href="#cb5-90" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-91"><a href="#cb5-91" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-92"><a href="#cb5-92" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.20856 0.76408 1.9116</span></span>
<span id="cb5-93"><a href="#cb5-93" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.20599 1.09828 1.3243</span></span>
<span id="cb5-94"><a href="#cb5-94" tabindex="-1"></a><span class="co">#&gt; preauto  1.51364 0.96310 2.3789</span></span>
<span id="cb5-95"><a href="#cb5-95" tabindex="-1"></a><span class="co">#&gt; ttt24    1.18892 0.75628 1.8690</span></span>
<span id="cb5-96"><a href="#cb5-96" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span>
<span id="cb5-97"><a href="#cb5-97" tabindex="-1"></a></span>
<span id="cb5-98"><a href="#cb5-98" tabindex="-1"></a><span class="do">### logit model  #############################################################3</span></span>
<span id="cb5-99"><a href="#cb5-99" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">cifreg</span>(<span class="fu">Event</span>(time,status)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb5-100"><a href="#cb5-100" tabindex="-1"></a>        <span class="at">weights=</span>wdata<span class="sc">$</span>weights,<span class="at">cause=</span><span class="dv">2</span>)</span>
<span id="cb5-101"><a href="#cb5-101" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb5-102"><a href="#cb5-102" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-103"><a href="#cb5-103" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-104"><a href="#cb5-104" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-105"><a href="#cb5-105" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-106"><a href="#cb5-106" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-107"><a href="#cb5-107" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-108"><a href="#cb5-108" tabindex="-1"></a><span class="co">#&gt;         Estimate     S.E.  dU^-1/2 P-value</span></span>
<span id="cb5-109"><a href="#cb5-109" tabindex="-1"></a><span class="co">#&gt; dnr.f01 0.357168 0.339848 0.158937  0.2933</span></span>
<span id="cb5-110"><a href="#cb5-110" tabindex="-1"></a><span class="co">#&gt; dnr.f11 0.272392 0.064166 0.145076  0.0000</span></span>
<span id="cb5-111"><a href="#cb5-111" tabindex="-1"></a><span class="co">#&gt; preauto 0.657010 0.326082 0.160361  0.0439</span></span>
<span id="cb5-112"><a href="#cb5-112" tabindex="-1"></a><span class="co">#&gt; ttt24   0.191333 0.353606 0.167443  0.5884</span></span>
<span id="cb5-113"><a href="#cb5-113" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-114"><a href="#cb5-114" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-115"><a href="#cb5-115" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-116"><a href="#cb5-116" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.42928 0.73424 2.7822</span></span>
<span id="cb5-117"><a href="#cb5-117" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.31310 1.15792 1.4891</span></span>
<span id="cb5-118"><a href="#cb5-118" tabindex="-1"></a><span class="co">#&gt; preauto  1.92902 1.01806 3.6551</span></span>
<span id="cb5-119"><a href="#cb5-119" tabindex="-1"></a><span class="co">#&gt; ttt24    1.21086 0.60549 2.4215</span></span>
<span id="cb5-120"><a href="#cb5-120" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb5-121"><a href="#cb5-121" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb5-122"><a href="#cb5-122" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-123"><a href="#cb5-123" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-124"><a href="#cb5-124" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-125"><a href="#cb5-125" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-126"><a href="#cb5-126" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-127"><a href="#cb5-127" tabindex="-1"></a><span class="co">#&gt;          Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb5-128"><a href="#cb5-128" tabindex="-1"></a><span class="co">#&gt; dnr.f01  0.357168  0.351089 -0.330953  1.045289  0.3090</span></span>
<span id="cb5-129"><a href="#cb5-129" tabindex="-1"></a><span class="co">#&gt; dnr.f11  0.272392  0.068131  0.138857  0.405927  0.0001</span></span>
<span id="cb5-130"><a href="#cb5-130" tabindex="-1"></a><span class="co">#&gt; preauto  0.657010  0.328207  0.013736  1.300284  0.0453</span></span>
<span id="cb5-131"><a href="#cb5-131" tabindex="-1"></a><span class="co">#&gt; ttt24    0.191333  0.356086 -0.506583  0.889250  0.5910</span></span>
<span id="cb5-132"><a href="#cb5-132" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-133"><a href="#cb5-133" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-134"><a href="#cb5-134" tabindex="-1"></a><span class="co">#&gt;         Estimate    2.5%  97.5%</span></span>
<span id="cb5-135"><a href="#cb5-135" tabindex="-1"></a><span class="co">#&gt; dnr.f01  1.42928 0.71824 2.8442</span></span>
<span id="cb5-136"><a href="#cb5-136" tabindex="-1"></a><span class="co">#&gt; dnr.f11  1.31310 1.14896 1.5007</span></span>
<span id="cb5-137"><a href="#cb5-137" tabindex="-1"></a><span class="co">#&gt; preauto  1.92902 1.01383 3.6703</span></span>
<span id="cb5-138"><a href="#cb5-138" tabindex="-1"></a><span class="co">#&gt; ttt24    1.21086 0.60255 2.4333</span></span>
<span id="cb5-139"><a href="#cb5-139" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span>
<span id="cb5-140"><a href="#cb5-140" tabindex="-1"></a></span>
<span id="cb5-141"><a href="#cb5-141" tabindex="-1"></a><span class="do">### binomial outcome  ############################</span></span>
<span id="cb5-142"><a href="#cb5-142" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">binreg</span>(<span class="fu">Event</span>(ftime,status)<span class="sc">~</span>dnr.f0<span class="sc">+</span>dnr.f1<span class="sc">+</span>preauto<span class="sc">+</span>ttt24<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb5-143"><a href="#cb5-143" tabindex="-1"></a>        <span class="at">time=</span><span class="dv">50</span>,<span class="at">weights=</span>wdata<span class="sc">$</span>weights,<span class="at">cens.weights=</span><span class="dv">1</span>,<span class="at">cause=</span><span class="dv">2</span>)</span>
<span id="cb5-144"><a href="#cb5-144" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb5-145"><a href="#cb5-145" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-146"><a href="#cb5-146" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-147"><a href="#cb5-147" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-148"><a href="#cb5-148" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-149"><a href="#cb5-149" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-150"><a href="#cb5-150" tabindex="-1"></a><span class="co">#&gt;              Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb5-151"><a href="#cb5-151" tabindex="-1"></a><span class="co">#&gt; (Intercept) -0.674433  0.235285 -1.135583 -0.213284  0.0042</span></span>
<span id="cb5-152"><a href="#cb5-152" tabindex="-1"></a><span class="co">#&gt; dnr.f01      0.221834  0.318264 -0.401952  0.845620  0.4858</span></span>
<span id="cb5-153"><a href="#cb5-153" tabindex="-1"></a><span class="co">#&gt; dnr.f11      0.262722  0.060281  0.144572  0.380871  0.0000</span></span>
<span id="cb5-154"><a href="#cb5-154" tabindex="-1"></a><span class="co">#&gt; preauto      0.578077  0.319091 -0.047331  1.203484  0.0700</span></span>
<span id="cb5-155"><a href="#cb5-155" tabindex="-1"></a><span class="co">#&gt; ttt24        0.214442  0.328183 -0.428784  0.857669  0.5135</span></span>
<span id="cb5-156"><a href="#cb5-156" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-157"><a href="#cb5-157" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-158"><a href="#cb5-158" tabindex="-1"></a><span class="co">#&gt;             Estimate    2.5%  97.5%</span></span>
<span id="cb5-159"><a href="#cb5-159" tabindex="-1"></a><span class="co">#&gt; (Intercept)  0.50944 0.32123 0.8079</span></span>
<span id="cb5-160"><a href="#cb5-160" tabindex="-1"></a><span class="co">#&gt; dnr.f01      1.24836 0.66901 2.3294</span></span>
<span id="cb5-161"><a href="#cb5-161" tabindex="-1"></a><span class="co">#&gt; dnr.f11      1.30046 1.15555 1.4636</span></span>
<span id="cb5-162"><a href="#cb5-162" tabindex="-1"></a><span class="co">#&gt; preauto      1.78261 0.95377 3.3317</span></span>
<span id="cb5-163"><a href="#cb5-163" tabindex="-1"></a><span class="co">#&gt; ttt24        1.23917 0.65130 2.3577</span></span>
<span id="cb5-164"><a href="#cb5-164" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">wdata=</span>wdata)</span>
<span id="cb5-165"><a href="#cb5-165" tabindex="-1"></a><span class="fu">summary</span>(ll)</span>
<span id="cb5-166"><a href="#cb5-166" tabindex="-1"></a><span class="co">#&gt;    n events</span></span>
<span id="cb5-167"><a href="#cb5-167" tabindex="-1"></a><span class="co">#&gt;  400    196</span></span>
<span id="cb5-168"><a href="#cb5-168" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-169"><a href="#cb5-169" tabindex="-1"></a><span class="co">#&gt;  200 clusters</span></span>
<span id="cb5-170"><a href="#cb5-170" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb5-171"><a href="#cb5-171" tabindex="-1"></a><span class="co">#&gt;              Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb5-172"><a href="#cb5-172" tabindex="-1"></a><span class="co">#&gt; (Intercept) -0.674433  0.235022 -1.135069 -0.213798  0.0041</span></span>
<span id="cb5-173"><a href="#cb5-173" tabindex="-1"></a><span class="co">#&gt; dnr.f01      0.221834  0.286717 -0.340122  0.783789  0.4391</span></span>
<span id="cb5-174"><a href="#cb5-174" tabindex="-1"></a><span class="co">#&gt; dnr.f11      0.262722  0.107508  0.052011  0.473432  0.0145</span></span>
<span id="cb5-175"><a href="#cb5-175" tabindex="-1"></a><span class="co">#&gt; preauto      0.578077  0.315260 -0.039822  1.195975  0.0667</span></span>
<span id="cb5-176"><a href="#cb5-176" tabindex="-1"></a><span class="co">#&gt; ttt24        0.214442  0.329107 -0.430596  0.859480  0.5147</span></span>
<span id="cb5-177"><a href="#cb5-177" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-178"><a href="#cb5-178" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb5-179"><a href="#cb5-179" tabindex="-1"></a><span class="co">#&gt;             Estimate    2.5%  97.5%</span></span>
<span id="cb5-180"><a href="#cb5-180" tabindex="-1"></a><span class="co">#&gt; (Intercept)  0.50944 0.32140 0.8075</span></span>
<span id="cb5-181"><a href="#cb5-181" tabindex="-1"></a><span class="co">#&gt; dnr.f01      1.24836 0.71168 2.1898</span></span>
<span id="cb5-182"><a href="#cb5-182" tabindex="-1"></a><span class="co">#&gt; dnr.f11      1.30046 1.05339 1.6055</span></span>
<span id="cb5-183"><a href="#cb5-183" tabindex="-1"></a><span class="co">#&gt; preauto      1.78261 0.96096 3.3068</span></span>
<span id="cb5-184"><a href="#cb5-184" tabindex="-1"></a><span class="co">#&gt; ttt24        1.23917 0.65012 2.3619</span></span>
<span id="cb5-185"><a href="#cb5-185" tabindex="-1"></a><span class="cf">if</span> (runb<span class="sc">&gt;</span><span class="dv">0</span>) { bll <span class="ot">&lt;-</span> <span class="fu">BootmediatorSurv</span>(aaMss,fit,<span class="at">data=</span>dat,<span class="at">k.boot=</span>k.boot); <span class="fu">summary</span>(bll)}</span></code></pre></div>
</div>
<div id="multinomial-regression" class="section level1">
<h1>Multinomial regression</h1>
<p>Also works with mediator with more than two levels</p>
<ul>
<li>meditor: wmi in 4 categories</li>
<li>exposure: age in 4 categories</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">library</span>(mets)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">data</span>(tTRACE)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="fu">dcut</span>(tTRACE) <span class="ot">&lt;-</span> <span class="er">~</span>. </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>weightmodel <span class="ot">&lt;-</span> fit <span class="ot">&lt;-</span> <span class="fu">mlogit</span>(wmicat<span class="fl">.4</span> <span class="sc">~</span>agecat<span class="fl">.4</span><span class="sc">+</span>vf<span class="sc">+</span>chf,<span class="at">data=</span>tTRACE,<span class="at">family=</span>binomial)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>wdata <span class="ot">&lt;-</span> <span class="fu">medweight</span>(fit,<span class="at">data=</span>tTRACE)</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>aaMss <span class="ot">&lt;-</span> <span class="fu">binreg</span>(<span class="fu">Event</span>(time,status)<span class="sc">~</span>agecat<span class="fl">.40</span><span class="sc">+</span> agecat<span class="fl">.41</span><span class="sc">+</span> vf<span class="sc">+</span>chf<span class="sc">+</span><span class="fu">cluster</span>(id),<span class="at">data=</span>wdata,</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>        <span class="at">time=</span><span class="dv">7</span>,<span class="at">weights=</span>wdata<span class="sc">$</span>weights,<span class="at">cause=</span><span class="dv">9</span>)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a><span class="fu">summary</span>(aaMss)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>MultMed <span class="ot">&lt;-</span> <span class="fu">mediatorSurv</span>(aaMss,fit,<span class="at">data=</span>tTRACE,<span class="at">wdata=</span>wdata)</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="fu">summary</span>(MultMed)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">summary</span>(MultMed)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt;     n events</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt;  4000   2016</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt;  1000 clusters</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; coeffients:</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt;                       Estimate   Std.Err      2.5%     97.5% P-value</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; (Intercept)          -1.839306  0.174541 -2.181401 -1.497211  0.0000</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; agecat.40(60.1,68.6]  0.916646  0.223488  0.478618  1.354674  0.0000</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; agecat.40(68.6,75.6]  1.363830  0.222418  0.927898  1.799762  0.0000</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; agecat.40(75.6,96.3]  2.277415  0.249815  1.787786  2.767044  0.0000</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; agecat.41(60.1,68.6]  0.121100  0.053334  0.016567  0.225633  0.0232</span></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a><span class="co">#&gt; agecat.41(68.6,75.6]  0.119374  0.053193  0.015118  0.223631  0.0248</span></span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a><span class="co">#&gt; agecat.41(75.6,96.3]  0.095356  0.053874 -0.010234  0.200947  0.0767</span></span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a><span class="co">#&gt; vf                    0.712461  0.293627  0.136962  1.287960  0.0152</span></span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a><span class="co">#&gt; chf                   1.166578  0.154721  0.863331  1.469825  0.0000</span></span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a><span class="co">#&gt; exp(coeffients):</span></span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a><span class="co">#&gt;                      Estimate    2.5%   97.5%</span></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="co">#&gt; (Intercept)           0.15893 0.11288  0.2238</span></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a><span class="co">#&gt; agecat.40(60.1,68.6]  2.50089 1.61384  3.8755</span></span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a><span class="co">#&gt; agecat.40(68.6,75.6]  3.91114 2.52919  6.0482</span></span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a><span class="co">#&gt; agecat.40(75.6,96.3]  9.75144 5.97621 15.9115</span></span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a><span class="co">#&gt; agecat.41(60.1,68.6]  1.12874 1.01671  1.2531</span></span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a><span class="co">#&gt; agecat.41(68.6,75.6]  1.12679 1.01523  1.2506</span></span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a><span class="co">#&gt; agecat.41(75.6,96.3]  1.10005 0.98982  1.2226</span></span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a><span class="co">#&gt; vf                    2.03900 1.14678  3.6254</span></span>
<span id="cb7-28"><a href="#cb7-28" tabindex="-1"></a><span class="co">#&gt; chf                   3.21099 2.37105  4.3485</span></span></code></pre></div>
</div>
<div id="sessioninfo" class="section level1">
<h1>SessionInfo</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co">#&gt; R version 4.5.1 (2025-06-13)</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#&gt; Platform: aarch64-apple-darwin24.5.0</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">#&gt; Running under: macOS Sequoia 15.6.1</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">#&gt; Matrix products: default</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">#&gt; BLAS:   /Users/kkzh/.asdf/installs/R/4.5.1/lib/R/lib/libRblas.dylib </span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">#&gt; LAPACK: /Users/kkzh/.asdf/installs/R/4.5.1/lib/R/lib/libRlapack.dylib;  LAPACK version 3.12.1</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co">#&gt; locale:</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="co">#&gt; time zone: Europe/Copenhagen</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="co">#&gt; tzcode source: internal</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="co">#&gt; attached base packages:</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="co">#&gt; other attached packages:</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="co">#&gt; [1] timereg_2.0.7  survival_3.8-3 mets_1.3.7    </span></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="co">#&gt;  [1] cli_3.6.5           knitr_1.50          rlang_1.1.6        </span></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="co">#&gt;  [4] xfun_0.53           jsonlite_2.0.0      future.apply_1.20.0</span></span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="co">#&gt;  [7] listenv_0.9.1       lava_1.8.1          htmltools_0.5.8.1  </span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a><span class="co">#&gt; [10] sass_0.4.10         rmarkdown_2.29      grid_4.5.1         </span></span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a><span class="co">#&gt; [13] evaluate_1.0.5      jquerylib_0.1.4     fastmap_1.2.0      </span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a><span class="co">#&gt; [16] numDeriv_2016.8-1.1 yaml_2.3.10         mvtnorm_1.3-3      </span></span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a><span class="co">#&gt; [19] lifecycle_1.0.4     compiler_4.5.1      codetools_0.2-20   </span></span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a><span class="co">#&gt; [22] ucminf_1.2.2        Rcpp_1.1.0          future_1.67.0      </span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a><span class="co">#&gt; [25] lattice_0.22-7      digest_0.6.37       R6_2.6.1           </span></span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a><span class="co">#&gt; [28] parallelly_1.45.1   parallel_4.5.1      splines_4.5.1      </span></span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a><span class="co">#&gt; [31] Matrix_1.7-4        bslib_0.9.0         tools_4.5.1        </span></span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a><span class="co">#&gt; [34] globals_0.18.0      cachem_1.1.0</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
